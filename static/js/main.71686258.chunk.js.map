{"version":3,"sources":["js/messages.js","js/helpers.js","js/api.js","components/MeetBox.js","components/MeetList.js","panels/Home.js","panels/Favorite.js","components/ComList.js","panels/Meet.js","panels/MeetAdmin.js","components/MeetBoxAdmin.js","components/MeetListAdmin.js","panels/AdminPage.js","panels/AddMeetPage.js","panels/Offline.js","panels/Onboarding.js","panels/Onboarding2.js","panels/Onboarding3.js","panels/AddGroupSuccess.js","panels/CommIntegration.js","App.js","index.js"],"names":["messages","not_class_api","server_offline","no_internet","bad_phone","wtf","oops","home_panel_title","admin_panel_title","favorite_panel_title","meet_empty_list","comm_empty_list","add_meet_page","edit_meet_modal","add_meet_success","add_meet_error","forms","start","finish","photo","add","save","submit","isDev","window","location","hash","isLocal","port","getMessage","k","d","checkVersionAndroid","navigator","userAgent","indexOf","Array","prototype","includes","dd","showAlert","setState","title","message","actions","autoclose","style","loader","disable","popout","react_default","a","createElement","es6","actionsLayout","onClose","shortNumber","count","number","Math","floor","concat","replace","titles","declOfNum","_console","console","log","apply","arguments","axios","defaults","headers","common","Accept","API","Object","classCallCheck","this","method","action","data","url","catch","error","response","meet","send","id","meets","failed","reverse","meetId","allMeets","expireduserMeets","ownereduserMeets","userMeets","result","comments","MeetBox","goMeet","_this$props","_this","props","setParentState","connect","activePanel","openActionSheet","e","stopPropagation","_this$props2","api","fetchedUser","onClick","ismember","makeStory","_this$props3","state","getUserMeets","isFave","getOwneredMeets","getExpiredUserMeets","getMeets","userId","RemoveMeetMember","then","res","activeTab","removeMeetMember","theme","IS_PLATFORM_IOS","_this2","backgroundImage","meetMembers","members_amount","className","more_horizontal_default","name","disabled","approved","isexpired","level","target","href","messages_default","Component","MeetList","Fragment","length","map","index","components_MeetBox","assign","key","stretched","icon","recent_outline_default","Home","possibleConstructorReturn","getPrototypeOf","call","fetching","onRefresh","setTimeout","left","users_default","isFetching","components_MeetList","snackbar","Favorite","noShadow","marginBottom","vertical","type","selected","after","ComList","comment_text","loading","openErrorSnackbar","openDoneSnackbar","isUserAdmin","removeComment","RemoveComment","comment","status","success","GetMeetComments","display","ownerid","minWidth","size","src","owner_photo","flexDirection","marginLeft","wordBreak","width","owner_name","owner_surname","rate","float","act","RateComment","rateComment","isliked","before","like_default","like_outline_default","rating","commAction","more_vertical_default","borderRadius","textAlign","maxLength","placeholder","value","onChange","currentTarget","marginTop","AddComment","document","getElementById","Meet","flood","onStoryChange","activeStory","_this$state","start_date","split","join","link","sub","unsubscribe","detail","available","POSTGeoPosition","lat","long","GetGeoPosition","share","description","chevron_back_default","back_default","images","margin","photos","marginRight","AddMeetMember","subscribe","components_ComList","MeetAdmin","mes","fetch","group_id","payload","approve","DeApprove","deApprove","Approve","MeetBoxAdmin","components_MeetBoxAdmin","AdminPage","MeetListAdmin","AddMeetPage","AddMeet","asyncToGenerator","regenerator_default","mark","_callee","_ref2","wrap","_context","prev","next","start_time","finish_date","finish_time","isGroup","groupSelected","sent","noty","symbols_name","symbols_description","accept","stop","_e$currentTarget","app_id","scope","defineProperty","token","access_token","request_id","params","album_id","v","uploadPhoto","upload_url","sizes","_ref3","_callee2","requestUrl","file","body","_context2","files","abrupt","FormData","append","json","server","info","photos_list","_x","bind","assertThisInitialized","edit","objectSpread","formLang","currentGroupInfo","photo_100","first_name","last_name","isCurrentGroupAdmin","checked","top","maxfiles","acceptfiletypes","minfilesize","undefined","Date","parse","getDay","Offline","_React$Component","inherits","createClass","Panel_default","PanelHeader_default","Div_default","Footer_default","Spinner_default","React","Rules","Success","check_circle_outline_default","CommIntegration","users_outline_default","App","initApp","showOfflinePage","offline","showLoader","show","checkRoute","schemeAttribute","createAttribute","schemeK","scheme","status_bar_style","action_bar_color","attributes","setNamedItem","user","addUser","story","panel","getAllMeets","_ref","route","GetMeet","checkOnline","onLine","getStory","image","background_type","locked","blob","attachment","text","_x2","duration","layout","backgroundColor","done_default","fill","height","clear_default","_callee3","_context3","GetMeets","_callee4","_context4","GetExpiredUserMeets","_callee5","_context5","GetOwneredMeets","_callee6","_context6","GetUserMeets","_callee7","_context7","GetAllMeets","getComments","_ref8","_callee8","_context8","GetComments","_x3","_ref9","_callee9","isFirst","clubInfo","_context9","IsFirst","GetGroupInfo","AddUser","UpdateUser","_x4","cache","changedRadio","setInterval","_this3","history","views","onSwipeBack","isWebView","panels_Offline","tabbar","list_default","add_default","privacy_default","favorite_outline_default","src_panels_Home","panels_CommIntegration","AddGroupSuccess","panels_Meet","panels_AddMeetPage","panels_AdminPage","panels_MeetAdmin","panels_Favorite","Onboarding","Onboarding2","Onboarding3","root","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.71686258.chunk.js","sourcesContent":["export const messages = {\r\n    not_class_api: \"Проблема с API\",\r\n    server_offline: \"Сервер не отвечает\",\r\n    no_internet: \"Ожидание интернет-соединения\",\r\n    bad_phone: \"Сервис поддерживает версию Android 5.1 и выше.\",\r\n    wtf: \"Что-то пошло не так.\",\r\n    oops: \"Упс...\",\r\n\r\n    home_panel_title: \"Диванные петиции\",\r\n    admin_panel_title: \"Модераторская\",\r\n    favorite_panel_title: \"Мои петиции\",\r\n    meet_empty_list: \"Здесь пока ничего нет\",\r\n    comm_empty_list: \"Комментариев нет\",\r\n\r\n    add_meet_page: \"Создание петиции\",\r\n    edit_meet_modal: \"Редактирование митинга\",\r\n    add_meet_success: \"Петиция отправлена на модерацию, это займёт пару часов\",\r\n    add_meet_error: \"Ошибка добавления петиции\",\r\n\r\n    forms: {\r\n        start: \"Дата начала\",\r\n        finish: \"Дата окончания\",\r\n        photo: \"Обложка петиции (до 1,13 МБ)\",\r\n        add: \"Добавить\",\r\n        save: \"Сохранить\",\r\n        submit: \"Отправить\"\r\n    }\r\n};\r\n","import { messages } from \"./messages\";\r\nimport React from 'react';\r\n\r\nimport { Alert } from '@vkontakte/vkui';\r\n// import connect from '@vkontakte/vk-connect';\r\n\r\nexport const isDev = (window.location.hash === '#debug') ? true : false;\r\nexport const isLocal = (window.location.port === '8080') ? true : false;\r\n\r\nexport const sleep = async (time) => {\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n            resolve();\r\n        }, time);\r\n    });\r\n};\r\n\r\nexport const initLazyLoad = () => {\r\n    window.onscroll = () => {\r\n        const moreButton = document.getElementById('lazy-more');\r\n\r\n        if (moreButton && moreButton.disabled === false) {\r\n            if ((window.innerHeight + window.scrollY) >= (document.body.scrollHeight - 300)) {\r\n                moreButton.click();\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nexport const getMessage = (k, d) => {\r\n    if (messages && messages[k]) {\r\n        return messages[k];\r\n    } else {\r\n        return d || '—';\r\n    }\r\n}\r\n\r\nexport const checkVersionAndroid = () => {\r\n    if ((navigator.userAgent.indexOf('Android 4.') !== -1) || !Array.prototype.includes) {\r\n        // const actions = [{\r\n        //     title: 'Закрыть сервис',\r\n        //     action: () => { connect.send(\"VKWebAppClose\", { \"status\": \"success\" }) },\r\n        //     style: 'cancel'\r\n        // }];\r\n\r\n        window.showAlert(false, getMessage('bad_phone'));\r\n\r\n        return dd('checkVersionAndroid', 'Bad phone');\r\n    }\r\n    return dd('checkVersionAndroid', 'not bad phone');\r\n}\r\n\r\nexport const showAlert = (setState, title, message, actions) => {\r\n    actions = actions ? actions : [{\r\n        title: 'Ок',\r\n        autoclose: true,\r\n        style: 'cancel'\r\n    }];\r\n\r\n    setState({\r\n        loader: null,\r\n        disable: false,\r\n        popout: <Alert\r\n                    actionsLayout=\"vertical\"\r\n                    actions={actions}\r\n                    onClose={ () => {\r\n                        setState({ popout: null })\r\n                    }}\r\n                >\r\n                    { title ? <h2>{ title }</h2> : <h2>{ getMessage('oops') }</h2> }\r\n                    <p>{ message || getMessage('wtf') }</p>\r\n                </Alert>\r\n    });\r\n}\r\n\r\nexport const formatNumber = (number) => {\r\n     if (number === null) return 0;\r\n  return `${number}`.replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ');\r\n};\r\nconst declOfNum = (number, titles) => {\r\nlet cases = [2, 0, 1, 1, 1, 2];\r\nreturn titles[ (number%100>4 && number%100<20)? 2 : cases[(number%10<5)?number%10:5] ];\r\n}\r\n\r\nexport const shortNumber = count => {\r\n  if(count > 1000){\r\n    return formatNumber(Math.floor(count/1000)) + 'K участников'\r\n  } else if(count > 0){\r\n    return `${count} ${declOfNum(count, [\"участник\", \"участника\", \"участников\"])}` ;\r\n  } else return 'Участников нет'\r\n}\r\n\r\nexport const dd = (...m) => {\r\n    if (isDev || isLocal) console.log(...m);\r\n}\r\n","import axios from 'axios';\r\nimport { dd } from './helpers';\r\n\r\n\r\nconst API_URL \t= 'https://vargasoff.ru:8000/';\r\n\r\naxios.defaults.headers.common = {\r\n    Accept: \"application/json, text/plain, */*\"\r\n}\r\n\r\nexport default class API {\r\n\r\n    constructor() {\r\n        dd('API: ', 'init');\r\n    }\r\n\r\n    async send(method = 'GET', action, data = {}) {\r\n        const response = await axios({\r\n            method,\r\n            url: `${API_URL}${action}`,\r\n            data\r\n        }).catch(error => {\r\n            console.error('Error API:', error);\r\n        //    window.showAlert(getMessage('server_offline'));\r\n          //  return { \"status\": false, \"failed\": error.response.data.message }\r\n        });\r\n        return response ? response.data : [];\r\n    }\r\n\r\n    async POSTGeoPosition(meet) {\r\n        let response = await this.send('POST', 'GeoPosition', meet);\r\n\r\n        dd('API: ', 'POSTGeoPosition', response);\r\n\r\n        return response;\r\n    }\r\n    async GetGeoPosition(location) {\r\n        let response = await this.send('GET',  `GeoPosition?meet=${location.meet}`, null);\r\n\r\n        dd('API: ', 'GetGeoPosition', response);\r\n\r\n        return response;\r\n    }\r\n    async GetGroupInfo() {\r\n        let response = await this.send('GET',  `GetGroupInfo`, null);\r\n\r\n        dd('API: ', 'GetGroupInfo', response);\r\n\r\n        return response;\r\n    }\r\n    async AddMeet(meet) {\r\n        let response = await this.send('POST', 'AddMeet', meet);\r\n\r\n        dd('API: ', 'AddMeet', response);\r\n        /*\r\n        if(!response){\r\n          response = { failed: 'Нельзя создать больше трёх митингов в день' }\r\n        }*/\r\n\r\n        return response;\r\n    }\r\n    async IsFirst(id) {\r\n      console.log(id)\r\n        const response = await this.send('GET', `IsFirst?id=${id}`, null); // убрать id, но не факт\r\n\r\n        dd('API: ', 'IsFirst', id, response);\r\n\r\n        return response;\r\n    }\r\n    async getStory(meet) {\r\n        const response = await this.send('GET', `getStory?meet=${meet}`, null);\r\n\r\n        dd('API: ', 'getStory', response);\r\n\r\n        return response;\r\n    }\r\n   async AddUser() {\r\n        const response = await this.send('POST', 'AddUser', null);\r\n\r\n        dd('API: ', 'AddUser', response);\r\n\r\n        return response;\r\n    }\r\n    async UpdateUser() {\r\n        const response = await this.send('POST', 'UpdateUser', null);\r\n\r\n        dd('API: ', 'UpdateUser', response);\r\n\r\n        return response;\r\n    }\r\n\r\n    /**\r\n     * Получить список митиног\r\n     * @return array\r\n     */\r\n    async GetMeets() {\r\n        const meets = await this.send('GET', `GetMeets`, null);\r\n\r\n        dd('API: ', 'GetMeets', meets);\r\n\r\n        if(!meets.failed) {\r\n          return meets.reverse();\r\n        } else return [];\r\n    }\r\n    async GetMeet(meetId) {\r\n        const meet = await this.send('GET', `GetMeet?meet=${meetId}`, null);\r\n\r\n        dd('API: ', 'GetMeet', meet);\r\n\r\n          return meet;\r\n    }\r\n    async GetAllMeets() {\r\n        const allMeets = await this.send('GET', `admin/GetAllMeets`, null);\r\n        dd('API: ', 'GetAllMeets', allMeets);\r\n\r\n        if(!allMeets.failed) {\r\n          return allMeets.reverse();\r\n        } else return [];\r\n\r\n    }\r\n    async GetExpiredUserMeets() {\r\n        const expireduserMeets = await this.send('GET', `GetExpiredUserMeets`, null);\r\n        dd('API: ', 'GetExpiredUserMeets', expireduserMeets);\r\n\r\n        if(!expireduserMeets.failed) {\r\n          return expireduserMeets.reverse();\r\n        } else return [];\r\n\r\n    }\r\n    async GetOwneredMeets() {\r\n        const ownereduserMeets = await this.send('GET', `GetOwneredMeets`, null);\r\n        dd('API: ', 'GetOwneredMeets', ownereduserMeets);\r\n\r\n        if(!ownereduserMeets.failed) {\r\n          return ownereduserMeets.reverse();\r\n        } else return [];\r\n\r\n    }\r\n    async RateComment(data) {\r\n      const response = await this.send('POST', 'RateComment', data);\r\n\r\n      dd('API: ', 'RateComment', response);\r\n\r\n      return response;\r\n    }\r\n    async GetUserMeets() {\r\n        const userMeets = await this.send('GET', `GetUserMeets`, null);\r\n        dd('API: ', 'GetUserMeets', userMeets);\r\n\r\n        if(!userMeets.failed) {\r\n          return userMeets.reverse();\r\n        } else return [];\r\n\r\n    }\r\n\r\n    async AddMeetMember(data) {\r\n      const response = await this.send('POST', 'AddMeetMember', data);\r\n\r\n      dd('API: ', 'AddMeetMember', response);\r\n\r\n      return response;\r\n    }\r\n    async RemoveMeetMember(data) {\r\n      const response = await this.send('POST', `RemoveMeetMember`, data);\r\n\r\n      dd('API: ', 'RemoveMeetMember', response);\r\n\r\n      return response;\r\n    }\r\n\r\n    async AddComment(data) {\r\n      let result =  await this.send('POST', `AddComment`, data);\r\n\r\n        dd('API: ', 'AddComment', result);\r\n        return result;\r\n    }\r\n\r\n    async GetMeetComments(meet) {\r\n\r\n      let comments =  await this.send('GET', `GetMeetComments?meet=${meet}`, null);\r\n\r\n        dd('API: ', 'GetMeetComments', comments);\r\n        return comments;\r\n    }\r\n\r\n    async RemoveComment(data) {\r\n      let result =  await this.send('POST', `RemoveComment`, data);\r\n\r\n        dd('API: ', 'RemoveComment', result);\r\n        return result;\r\n    }\r\n\r\n    async Approve(data) {\r\n      const response = await this.send('POST', `admin/Approve`, data);\r\n\r\n      dd('API: ', 'Approve', response);\r\n\r\n      return response;\r\n    }\r\n    async DeApprove(data) {\r\n      const response = await this.send('POST', `admin/DeApprove`, data);\r\n\r\n      dd('API: ', 'DeApprove', response);\r\n\r\n      return response;\r\n    }\r\n\r\n\r\n}\r\n","import React, {Component} from 'react';\r\nimport { Button, IS_PLATFORM_IOS, Link, ActionSheetItem, ActionSheet, Div } from '@vkontakte/vkui/';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport Icon28MoreHorizontal from '@vkontakte/icons/dist/28/more_horizontal';\r\nimport Icon28Messages from '@vkontakte/icons/dist/28/messages';\r\nimport { shortNumber } from '../js/helpers';\r\n\r\nclass MeetBox extends Component {\r\n\r\n\r\n    goMeet = () => {\r\n        const { meet, setParentState } = this.props;\r\n        connect.send('VKWebAppEnableSwipeBack');\r\n\r\n        setParentState({\r\n            meet: meet,\r\n            activePanel: 'meet'\r\n        });\r\n    }\r\n    openActionSheet = (e) => {\r\n      e.stopPropagation();\r\n      const { meet, api, setParentState, fetchedUser } = this.props;\r\n\r\n      const removeMeetMember = e => {\r\n\r\n      const { state, getUserMeets, isFave, getOwneredMeets, getExpiredUserMeets, getMeets } = this.props\r\n\r\n      const userId = fetchedUser.id;\r\n      api.RemoveMeetMember({\r\n          id: fetchedUser.id,\r\n          meet: meet.id\r\n        }).then(res => {\r\n          if(isFave) {\r\n            let activeTab = state.activeTab\r\n            if(activeTab === 'all'){\r\n              getUserMeets(userId);\r\n            } else if(activeTab === 'my'){\r\n              getOwneredMeets(userId);\r\n            } else if(activeTab === 'exp'){\r\n              getExpiredUserMeets(userId);\r\n            }\r\n          } else {\r\n            getMeets(userId)\r\n          }\r\n        });\r\n      }\r\n\r\n      setParentState({\r\n          popout:\r\n          <ActionSheet onClose={() => setParentState({ popout: null })}>\r\n            <ActionSheetItem onClick={ this.goMeet } autoclose>\r\n              Перейти на страницу петиции\r\n            </ActionSheetItem>\r\n            {meet.ismember &&\r\n            <ActionSheetItem onClick={ () => this.props.makeStory(meet.id) } autoclose>\r\n              Поделиться в истории\r\n            </ActionSheetItem> }\r\n            {meet.ismember &&\r\n            <ActionSheetItem onClick={() => removeMeetMember()} autoclose theme=\"destructive\">\r\n              Отказаться от участия\r\n            </ActionSheetItem>}\r\n            {IS_PLATFORM_IOS && <ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\r\n          </ActionSheet>,\r\n      });\r\n  }\r\n  componentDidMount(){}\r\n\r\n    render() {\r\n        const { meet } = this.props;\r\n        const backgroundImage = `url(${meet.photo})`;\r\n\r\n        var meetMembers = shortNumber(meet.members_amount)\r\n\r\n        return (\r\n            <Div className=\"MeetBox\" onClick={ this.goMeet } style={{ backgroundImage }} >\r\n                <Div className=\"MeetMore\">\r\n                    <Icon28MoreHorizontal  onClick={(e) => this.openActionSheet(e) }/>\r\n                </Div>\r\n                <Div className=\"MeetName\">{ meet.name }</Div>\r\n                <Div className=\"MeetAction\">\r\n                    {\r\n                      !meet.ismember ?\r\n                      <Button id='no_part' disabled={ !meet.approved || meet.isexpired } level=\"secondary\"> <span className=\"bold\">Участвовать</span> </Button>\r\n                      : <Button id='part' disabled={ !meet.approved || meet.isexpired } level=\"commerce\"><span className=\"bold_White\">Участвую!</span> </Button>\r\n                    }\r\n                    <Div className=\"MeetMembers\">{ meetMembers }</Div>\r\n                    {\r\n                      meet.ismember === 11 &&\r\n                        <Link id='link' onClick={e => e.stopPropagation()} target=\"_blank\" href=\"https://vk.me/join/AJQ1d2apLRT8GMtyuXFrAkqD\"><Icon28Messages/></Link>\r\n                    }\r\n                </Div>\r\n            </Div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MeetBox;\r\n","import React, {Component} from 'react';\r\nimport { Group, Placeholder } from '@vkontakte/vkui';\r\n\r\nimport MeetBox from './MeetBox';\r\n\r\nimport Icon56RecentOutline from '@vkontakte/icons/dist/56/recent_outline';\r\n\r\nclass MeetList extends Component {\r\n\r\n    render() {\r\n        const { meets, setParentState, getUserMeets, makeStory } = this.props;\r\n\r\n        if(meets === false){\r\n          return null\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    (meets && meets.length) ?\r\n                        <Group className=\"transparentBody MeetList\">\r\n                            {\r\n                                meets.map((meet, index) =>\r\n                                (\r\n                                  <MeetBox\r\n                                      key={index}\r\n                                      meet={meet}\r\n                                      {...this.props}\r\n                                      makeStory={makeStory}\r\n                                      getUserMeets={getUserMeets}\r\n                                      setParentState={setParentState}\r\n                                  />\r\n                                ))\r\n                            }\r\n                      </Group>\r\n                        :\r\n\r\n                        <Placeholder\r\n                          stretched\r\n                          icon={<Icon56RecentOutline />}\r\n                          >\r\n                        Скоро здесь обязательно что-то появится..\r\n                          </Placeholder>\r\n\r\n                }\r\n                </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MeetList;\r\n","import React, { Component } from 'react';\r\nimport { Panel, PanelHeader, HeaderButton, PullToRefresh } from '@vkontakte/vkui';\r\nimport { getMessage } from '../js/helpers';\r\nimport MeetList from '../components/MeetList';\r\n\r\nimport Icon24Users from '@vkontakte/icons/dist/24/users';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            meets: this.props.meets,\r\n            fetching: false\r\n        };\r\n\r\n        this.onRefresh = () => {\r\n      this.setState({ fetching: true });\r\n      setTimeout(() => {\r\n        this.props.getMeets();\r\n        this.setState({ fetching: false });\r\n      }, 500);  // сука ненавижу этот PTR, почему он не может нормально работать блять\r\n    }\r\n        this.api = this.props.api;\r\n    }\r\n\r\n    render() {\r\n        const { id, setParentState } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader left={\r\n                  <HeaderButton onClick={ () => setParentState({\r\n                    activePanel: 'comm'\r\n                  }) }>\r\n\t\t\t               <Icon24Users/>\r\n\t\t               </HeaderButton>\r\n                 }>{ getMessage('home_panel_title') }</PanelHeader>\r\n\r\n                <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n                        <MeetList\r\n                            {...this.props}\r\n                            meets={ this.props.meets }\r\n                            setParentState={ setParentState }\r\n                        />\r\n                </PullToRefresh>\r\n                {this.props.state.snackbar}\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Panel, PanelHeader, FixedLayout, Div, Tabs, TabsItem, Counter, HorizontalScroll } from '@vkontakte/vkui';\r\nimport { getMessage } from '../js/helpers';\r\nimport MeetList from '../components/MeetList';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n\r\nclass Favorite extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            meets: this.props.userMeets\r\n        };\r\n\r\n        this.api = this.props.api;\r\n    }\r\n\r\n\r\n    render() {\r\n        const { id, setParentState, getUserMeets, getExpiredUserMeets, getOwneredMeets, makeStory, userMeets, state } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader noShadow>{ getMessage('favorite_panel_title') }</PanelHeader>\r\n                    <Div style={{ marginBottom: 30 }}/>\r\n                        <FixedLayout vertical=\"top\">\r\n                             <Tabs theme=\"header\" type=\"buttons\">\r\n                               <HorizontalScroll>\r\n                                 <TabsItem\r\n                                   onClick={() => setParentState({ activeTab: 'all' }) & getUserMeets()}\r\n                                   selected={state.activeTab === 'all'}\r\n                                   after={state.activeTab === 'all' && <Counter>{userMeets.length}</Counter>}\r\n\r\n                                 >\r\n                                   Все\r\n                                 </TabsItem>\r\n                                 <TabsItem\r\n                                   onClick={() => setParentState({ activeTab: 'exp' }) & getExpiredUserMeets()}\r\n                                   selected={state.activeTab === 'exp'}\r\n                                   after={state.activeTab === 'exp' && <Counter>{userMeets.length}</Counter>}\r\n                                 >\r\n                                   Завершенные\r\n                                 </TabsItem>\r\n                                 <TabsItem\r\n                                   onClick={() => setParentState({ activeTab: 'my' }) & getOwneredMeets()}\r\n                                   selected={state.activeTab === 'my'}\r\n                                    after={state.activeTab === 'my' && <Counter>{userMeets.length}</Counter>}\r\n                                 >\r\n                                   Созданные\r\n                                 </TabsItem>\r\n                               </HorizontalScroll>\r\n                             </Tabs>\r\n                        </FixedLayout>\r\n                        <MeetList\r\n                            {...this.props}\r\n                            isFave\r\n                            makeStory={ makeStory }\r\n                            getUserMeets={ getUserMeets }\r\n                            meets={ this.props.userMeets }\r\n                            setParentState={ setParentState }\r\n                        />\r\n                  {this.props.state.snackbar}\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Favorite;\r\n","import React, {Component} from 'react';\r\nimport { Group, Div, IS_PLATFORM_IOS, ActionSheetItem, ActionSheet, Avatar, Textarea, Link, Button, Spinner } from '@vkontakte/vkui';\r\n\r\nimport { getMessage } from '../js/helpers';\r\n\r\nimport Icon16MoreVertical from '@vkontakte/icons/dist/16/more_vertical';\r\nimport Icon16Like from '@vkontakte/icons/dist/16/like';\r\nimport Icon16LikeOutline from '@vkontakte/icons/dist/16/like_outline';\r\n\r\nimport '../css/App.css';\r\n\r\nclass ComList extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n          meet: this.props.state.meet,\r\n          comment_text: '',\r\n          snackbar: null,\r\n          loading: false\r\n      };\r\n\r\n      this.api = this.props.api;\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n    render() {\r\n        const { comments, setParentState, openErrorSnackbar, openDoneSnackbar, fetchedUser, isUserAdmin } = this.props;\r\n        const { meet } = this.state;\r\n        if(comments === false){\r\n          return <Div><Spinner/></Div>\r\n        }\r\n\r\n        const addComment = e => {\r\n          this.setState({ loading: true });\r\n          this.api.AddComment({\r\n            comment: e,\r\n            meet: meet.id\r\n          }).then( e => {\r\n           if(e.success){\r\n             this.api.GetMeetComments(this.props.state.meet.id).then(comments => setParentState({ comments }))\r\n             document.getElementById('comm_inp').value = ''\r\n             this.setState({ comment_text: '' })\r\n           } else if(e.failed){\r\n              openErrorSnackbar(e.failed)\r\n           } else {\r\n             openErrorSnackbar('Нельзя отправлять комментарии так часто.')\r\n           }\r\n             this.setState({ loading: false });\r\n          })\r\n        }\r\n        const commAction = e => {\r\n          setParentState({\r\n              popout:\r\n              <ActionSheet onClose={() => setParentState({ popout: null })}>\r\n                <ActionSheetItem onClick={() => removeComment(e)} autoclose theme=\"destructive\">\r\n                  Удалить комментарий\r\n                </ActionSheetItem>\r\n                {IS_PLATFORM_IOS && <ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\r\n              </ActionSheet>,\r\n          });\r\n        }\r\n\r\n        const rateComment = (id, type) => {\r\n          let act;\r\n          if(type){\r\n            act = 0;\r\n          } else act = 1;\r\n          this.api.RateComment({\r\n            comment: id,\r\n            act: act\r\n            }).then( e => {\r\n           if(e) {\r\n             if(e.length === 0) {\r\n               openErrorSnackbar('Не так часто')\r\n               return\r\n             } else if(e.status || e.success){\r\n               this.api.GetMeetComments(this.props.state.meet.id).then(comments => {\r\n                 setParentState({ comments });\r\n               });\r\n             } else if(e.message){\r\n               openErrorSnackbar(e.message);\r\n             } else if(e.failed){\r\n               openErrorSnackbar(e.failed);\r\n             }\r\n           }\r\n\r\n         });\r\n        }\r\n\r\n        const removeComment = e => {\r\n          setParentState({ comments: false })\r\n          this.api.RemoveComment({ comment: e }).then( e => {\r\n            if(e.length === 0) {\r\n              openErrorSnackbar('Не так часто')\r\n              return\r\n            }\r\n           if(e.status || e.success){\r\n              this.api.GetMeetComments(this.props.state.meet.id).then(comments => setParentState({ comments }));\r\n               openDoneSnackbar('Комментарий удалён.');\r\n           } else if(e.message){\r\n             openErrorSnackbar(e.message);\r\n           } else if(e.failed){\r\n             openErrorSnackbar(e.failed);\r\n           }\r\n         });\r\n        }\r\n        return (\r\n            <>\r\n                        {this.state.snackbar}\r\n                {\r\n                    (comments && comments.length) ?\r\n                        <>\r\n                            {\r\n                                comments.map((comment, index) =>\r\n\r\n                                <Group className='commentItem'  key={index}>\r\n                                <Div style={{ display: 'flex'}}>\r\n                                   <Link href={\"https://vk.com/id\" + comment.ownerid} target=\"_blank\">\r\n                                  <Avatar style={{ minWidth: 36 }} size={36} src={comment.owner_photo}/>\r\n                                    </Link>\r\n                                 <div style={{ display: 'flex', flexDirection: 'column', marginLeft: 10, wordBreak: 'break-all', width: '100%'}}>\r\n                                   <Link href={\"https://vk.com/id\" + comment.ownerid} target=\"_blank\">\r\n                                   <Div id='comm'>{`${comment.owner_name}  ${comment.owner_surname}`}</Div>\r\n                                   </Link>\r\n                                  {comment.comment}\r\n                                                                   {comment.rate}\r\n                                   </div>\r\n\r\n                                      <Button\r\n                                        id='like'\r\n                                        style={{ float: 'right' }}\r\n                                        level=\"tertiary\"\r\n                                        onClick={ (e) => {\r\n                                          e.stopPropagation()\r\n                                         rateComment(comment.id, comment.isliked)\r\n                                        } }\r\n                                        before={comment.isliked ? <Icon16Like id='like'/> :  <Icon16LikeOutline id='like'/> }>\r\n                                      {comment.rating !== 0 && comment.rating}\r\n                                    </Button>\r\n                                   {((comment.ownerid === fetchedUser.id) || isUserAdmin) &&\r\n                                      <Button\r\n                                         level=\"tertiary\"\r\n                                         style={{ float: 'right' }}\r\n                                         onClick={ (e) => {\r\n                                           e.stopPropagation()\r\n                                          commAction(comment.id)\r\n                                         } }\r\n                                         ><Icon16MoreVertical/>\r\n                                    </Button>}\r\n                                </Div>\r\n                                </Group>\r\n                              )\r\n                            }\r\n                        </>\r\n                        :\r\n                        <Group style={{ borderRadius: '15px' }}>\r\n                            <Div style={{ textAlign: 'center' }}>{ getMessage('comm_empty_list') }</Div>\r\n                        </Group>\r\n                }\r\n                <Group>\r\n                <Div>\r\n                <Textarea\r\n                  maxLength='45'\r\n                  style={{ borderRadius: '15px' }}\r\n                  placeholder={'Напишите комментарий'}\r\n                  id='comm_inp'\r\n                  value={this.state.comment_text}\r\n                  onChange={ e =>  this.setState({ comment_text: e.currentTarget.value }) }\r\n                 />\r\n                <Button\r\n                  disabled={!this.state.comment_text || this.state.loading}\r\n                  size='xl'\r\n                  style={{ marginTop: 15,  borderRadius: '60px' }}\r\n                  onClick={ () => {\r\n                  if(this.state.comment_text){\r\n                    addComment(this.state.comment_text);\r\n                  }\r\n                }}>Отправить комментарий</Button>\r\n                </Div>\r\n                </Group>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ComList;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, ActionSheetItem, ActionSheet,\r\n  Div, Link, Spinner, UsersStack, IS_PLATFORM_IOS, Group, HeaderButton, Separator, Button } from '@vkontakte/vkui';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\nimport ComList from '../components/ComList';\r\n\r\nimport { shortNumber } from '../js/helpers';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n\r\nclass Meet extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            meet: this.props.state.meet,\r\n            disabled: false,\r\n            snackbar: null,\r\n            flood: false\r\n        };\r\n\r\n        this.api = this.props.api;\r\n    }\r\n\r\n    componentDidMount() {\r\n      const { setParentState } = this.props;\r\n      this.api.GetMeetComments(this.props.state.meet.id).then(comments => setParentState({ comments }))\r\n    }\r\n\r\n    render() {\r\n        const { id, onStoryChange, openDoneSnackbar, setParentState, activeStory} = this.props;\r\n        const { meet, disabled } = this.state;\r\n        var meetMembers = shortNumber(meet.members_amount)\r\n        const start_date = meet.start.split('-').reverse().join('-')\r\n        const backgroundImage = `url(${meet.photo})`;\r\n        var link = meet.ownerid > 0 ? `https://vk.com/id${meet.ownerid}` : `https://vk.com/club${-meet.ownerid}`\r\n\r\n        const sub = e => {\r\n          connect.unsubscribe(sub)\r\n          switch (e.detail.type) {\r\n            case 'VKWebAppGeodataResult':\r\n          if(!this.state.flood){\r\n            if(!e.detail.data.available) {\r\n              console.log(e.detail.data.available)\r\n              this.props.openErrorSnackbar('Доступ к геолокации не был получен.');\r\n              this.setState({ disabled: false });\r\n              return\r\n            }\r\n                this.api.POSTGeoPosition({\r\n                  lat: e.detail.data.lat,\r\n                  long: e.detail.data.long\r\n                }).then(res => {\r\n                  this.api.GetGeoPosition({\r\n                    meet: this.props.state.meet.id\r\n                  }).then(res => {\r\n                    this.setState({ flood: true })\r\n                    setTimeout(() => this.setState({ flood: false }), 2000)\r\n                    if(res.failed){\r\n                      this.setState({ disabled: false });\r\n                      this.props.openErrorSnackbar(res.failed);\r\n                    } else if(res.status) {\r\n                      openDoneSnackbar(res.status);\r\n                      this.setState({ disabled: false });\r\n                    }\r\n                  })\r\n\r\n                })\r\n          } else {\r\n            this.setState({ disabled: false });\r\n            this.props.openErrorSnackbar('Не так часто');\r\n          }\r\n              break;\r\n              case 'VKWebAppGeodataFailed':\r\n                    this.props.openErrorSnackbar('Доступ к геолокации запрещён.');\r\n                   this.setState({ disabled: false });\r\n                break;\r\n            default:\r\n              // code\r\n          }\r\n        }\r\n\r\n        const paticipate = e => {\r\n          this.setState({ disabled: true })\r\n          this.api.AddMeetMember({\r\n            meet: meet.id\r\n          }).then( e => onStoryChange(activeStory, 'meets') )\r\n        }\r\n        const removeMeetMember = e => {\r\n        this.setState({ disabled: true })\r\n        this.api.RemoveMeetMember({\r\n            meet: meet.id\r\n          }).then( e => onStoryChange(activeStory, 'meets') )\r\n        }\r\n        const menu = e => {\r\n          setParentState({\r\n              popout:\r\n              <ActionSheet onClose={() => setParentState({ popout: null })}>\r\n                <ActionSheetItem onClick={ share } autoclose>\r\n                  Поделиться на стене\r\n                </ActionSheetItem>\r\n                <ActionSheetItem onClick={ () => this.props.makeStory(meet.id) } autoclose>\r\n                  Поделиться в истории\r\n                </ActionSheetItem>\r\n                {IS_PLATFORM_IOS && <ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\r\n              </ActionSheet>,\r\n          });\r\n          }\r\n        const share = e => {\r\n          connect.send(\"VKWebAppShowWallPostBox\", {\"message\": `${meet.name}\\n\\n${meet.description}\\n\\n Примите участие в петиции по ссылке: https://vk.com/app7217332#${meet.id}`});\r\n        }\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader left={\r\n                  <HeaderButton onClick={() => onStoryChange(activeStory, 'meets')}>\r\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t               </HeaderButton>}>Петиция</PanelHeader>\r\n\r\n                   <Div onClick={() => connect.send(\"VKWebAppShowImages\", { images: [ meet.photo ] })} className=\"MeetImg\" style={{ backgroundImage }} >\r\n                       <Div style={{ marginTop: '20%' }} className=\"MeetName\">{ meet.name }</Div>\r\n                       <Div style={{ marginTop: '20%' }} className=\"MeetName\">{ start_date }</Div>\r\n                   </Div>\r\n                <Group>\r\n                  { meet.owner_name && <>\r\n                    <Separator style={{ margin: '12px 0' }} />\r\n                      <Link id='link' target=\"_blank\" href={link}>\r\n                        <UsersStack  photos={[ meet.owner_photo ]}>{meet.owner_name} {meet.owner_surname} • {meetMembers}</UsersStack>\r\n                      </Link>\r\n                      </>\r\n                  }\r\n                    <Separator style={{ margin: '12px 0' }} />\r\n                    <Div id='desk'>{meet.description}</Div>\r\n\r\n                  {\r\n                    ( !meet.isexpired && meet.approved ) &&\r\n                    <>\r\n                    <Div style={{ display: 'flex' }}>\r\n                        {\r\n                          !meet.ismember ?\r\n                          <Button size=\"l\" disabled={disabled} stretched style={{ marginRight: 8 }}\r\n                          onClick={ () => paticipate() }>{disabled ? <Spinner size='small'/> : 'Участвовать'}</Button>\r\n                          : <Button size=\"l\" disabled={disabled} stretched style={{ marginRight: 8 }}\r\n                          onClick={ () => removeMeetMember() }>{disabled ? <Spinner size='small'/> : 'Отказаться от участия'} </Button>\r\n                        }\r\n                        <Button size=\"l\" stretched level='secondary' style={{ marginRight: 8 }}\r\n                        onClick={ menu }>Поделиться</Button>\r\n                    </Div>\r\n                    {\r\n                      meet.ismember  &&\r\n                    <Div>\r\n                    <Button\r\n                      level='secondary'\r\n                      size=\"l\"\r\n                      disabled={disabled}\r\n                      stretched\r\n                      style={{ marginRight: 8 }}\r\n                      onClick={ () => {\r\n                              connect.subscribe(sub);\r\n                              connect.send(\"VKWebAppGetGeodata\", {});\r\n                              this.setState({ disabled: true })}\r\n                            }>\r\n                    {disabled ? <Spinner size='small'/> : 'Найти единомышленников рядом'}\r\n                    </Button>\r\n                    </Div>\r\n                  }\r\n                  <Separator style={{ margin: '12px 0' }} />\r\n                  <Div id='desk'>Комментарии:</Div>\r\n                    </>\r\n                  }\r\n                </Group>\r\n              { !meet.isexpired && meet.approved &&  <ComList {...this.props}/>}\r\n                  {this.props.state.snackbar}\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Meet;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, Div, UsersStack, Spinner, IS_PLATFORM_IOS, Group, Link, HeaderButton, Separator, Button } from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport { shortNumber } from '../js/helpers';\r\n// import Icon24Users from '@vkontakte/icons/dist/24/users';\r\n// import Icon24ShareOutline from '@vkontakte/icons/dist/24/share_outline';\r\n// import Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\r\n// import Icon24Done from '@vkontakte/icons/dist/24/done';\r\n// import Icon24Story from '@vkontakte/icons/dist/24/story';\r\n\r\n// import Icon20PlaceOutline from '@vkontakte/icons/dist/20/place_outline';\r\n// import Icon20CalendarOutline from '@vkontakte/icons/dist/20/calendar_outline';\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n\r\nclass MeetAdmin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            meet: this.props.state.meet,\r\n            disabled: false\r\n        };\r\n\r\n        this.api = this.props.api;\r\n    }\r\n\r\n    componentDidMount() {}\r\n\r\n    render() {\r\n        const { id, onStoryChange, fetchedUser } = this.props;\r\n        const { meet } = this.state;\r\n        const backgroundImage = `url(${meet.photo})`;\r\n        const start_date = meet.start.split('-').reverse().join('-')\r\n        var meetMembers = shortNumber(meet.members_amount)\r\n        var link = 'https://vk.com/id' + meet.ownerid\r\n\r\n        const approve = e => {\r\n          const mes = `Ваша петиция <<${meet.name}>> прошла модерацию.&${meet.ownerid}`;\r\n          fetch('https://cors-anywhere.herokuapp.com/https://groovy-apricot.glitch.me/', { method: 'GET' })\r\n          .then(res => console.log(200) & connect.send(\"VKWebAppSendPayload\", {\"group_id\": 189366357, \"payload\": {\"approve\": mes}}));\r\n          this.setState({ disabled: true })\r\n          this.api.Approve({\r\n            id: fetchedUser.id,\r\n            meet: meet.id\r\n          }).then( e => onStoryChange('admin', 'meets') )\r\n        }\r\n        const deApprove = e => {\r\n          const mes = `Ваша петиция <<${meet.name}>> отклонена модератором.&${meet.ownerid}`;\r\n          fetch('https://cors-anywhere.herokuapp.com/https://groovy-apricot.glitch.me/', { method: 'GET' })\r\n          .then(res => connect.send(\"VKWebAppSendPayload\", {\"group_id\": 189366357, \"payload\": {\"approve\": mes}}));\r\n          this.setState({ disabled: true })\r\n          this.api.DeApprove({\r\n            id: fetchedUser.id,\r\n            meet: meet.id\r\n          }).then( e => onStoryChange('admin', 'meets') )\r\n        }\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader left={\r\n                  <HeaderButton onClick={() => onStoryChange('admin', 'meets')}>\r\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n\t\t               </HeaderButton>}>Петиция</PanelHeader>\r\n                   <Group>\r\n                   <Div className=\"MeetImg\" style={{ backgroundImage }} >\r\n                       <Div style={{ marginTop: '20%' }} className=\"MeetName\">{ meet.name }</Div>\r\n                       <Div style={{ marginTop: '20%' }} className=\"MeetName\">{ start_date }</Div>\r\n                   </Div>\r\n                   <Separator style={{ margin: '12px 0' }} />\r\n                     <Link id='link' target=\"_blank\" href={link}>\r\n                       <UsersStack  photos={[ meet.owner_photo ]}>{meet.owner_name} {meet.owner_surname} • {meetMembers}</UsersStack>\r\n                     </Link>\r\n                   <Separator style={{ margin: '12px 0' }} />\r\n                    <Div id='desk'>{meet.description}</Div>\r\n                    <Div style={{display: 'flex'}}>\r\n                            {\r\n                              !meet.approved ?\r\n                              <Button size=\"l\" disabled={this.state.disabled} stretched style={{ marginRight: 8 }}\r\n                              onClick={ () => approve() }>{this.state.disabled ? <Spinner/> : 'Принять'}</Button>\r\n                              : <Button size=\"l\" disabled={this.state.disabled} stretched style={{ marginRight: 8 }}\r\n                              onClick={ () => deApprove() }>{this.state.disabled ? <Spinner/> : 'ОТКЛОНИТЬ НАХУЙ'} </Button>\r\n                            }\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MeetAdmin;\r\n","import React, {Component} from 'react';\r\nimport { Button, IS_PLATFORM_IOS, /*Link,*/ ActionSheetItem, ActionSheet, Div } from '@vkontakte/vkui/';\r\n\r\nimport Icon28MoreHorizontal from '@vkontakte/icons/dist/28/more_horizontal';\r\n//import Icon28Messages from '@vkontakte/icons/dist/28/messages';\r\nimport { shortNumber } from '../js/helpers';\r\n\r\nclass MeetBoxAdmin extends Component {\r\n\r\n\r\n    goMeet = () => {\r\n        const { meet, setParentState } = this.props;\r\n\r\n        setParentState({\r\n            meet: meet,\r\n            activePanel: 'meetAdmin'\r\n        });\r\n    }\r\n\r\n    openActionSheet = (e) => {\r\n      e.stopPropagation()\r\n      const { setParentState/*, api, fetchedUser, meet */} = this.props;\r\n\r\n    /*  const removeMeetMember = e => {\r\n      api.RemoveMeetMember({\r\n          id: fetchedUser.id,\r\n          meet: meet.id\r\n        })\r\n      }\r\n*/\r\n      setParentState({\r\n          popout:\r\n          <ActionSheet onClose={() => setParentState({ popout: null })}>\r\n            <ActionSheetItem onClick={ this.goMeet } autoclose>\r\n              Перейти на страницу петиции\r\n            </ActionSheetItem>\r\n            <ActionSheetItem autoclose>\r\n              Поделиться в истории\r\n            </ActionSheetItem>\r\n            {IS_PLATFORM_IOS && <ActionSheetItem autoclose theme=\"cancel\">Отменить</ActionSheetItem>}\r\n          </ActionSheet>,\r\n      });\r\n  }\r\n\r\n    render() {\r\n        const { meet } = this.props;\r\n        const backgroundImage = `url(${meet.photo})`;\r\n        var meetMembers = shortNumber(meet.members_amount)\r\n\r\n        return (\r\n            <Div className=\"MeetBox\" onClick={ this.goMeet } style={{ backgroundImage }} >\r\n                <Div className=\"MeetMore\">\r\n                    <Icon28MoreHorizontal  onClick={(e) => this.openActionSheet(e) }/>\r\n                </Div>\r\n                <Div className=\"MeetName\">{ meet.name }</Div>\r\n                <Div className=\"MeetAction\">\r\n                  {\r\n                    meet.approved ?\r\n                    <Button level=\"primary\">Одобрен</Button>\r\n                    :   <Button level=\"primary\">Не рассмотрен</Button>\r\n                  }\r\n                    <Div className=\"MeetMembers\">{ meetMembers }</Div>\r\n                {/*    <Link id='link' onClick={e => e.stopPropagation()} target=\"_blank\" href=\"https://vk.me/join/AJQ1d2apLRT8GMtyuXFrAkqD\"><Icon28Messages/></Link>*/}\r\n                </Div>\r\n            </Div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MeetBoxAdmin;\r\n","import React, {Component} from 'react';\r\nimport { Group, Div } from '@vkontakte/vkui';\r\n\r\nimport MeetBoxAdmin from './MeetBoxAdmin';\r\nimport { getMessage } from '../js/helpers';\r\n\r\nclass MeetList extends Component {\r\n\r\n    render() {\r\n        const { meets, setParentState } = this.props;\r\n\r\n        if(meets === false){\r\n          return null\r\n        }\r\n\r\n        return (\r\n            <Group className=\"transparentBody MeetList\">\r\n                {\r\n                    (meets && meets.length) ?\r\n                        <>\r\n                            {\r\n                                meets.map((meet, index) => <MeetBoxAdmin\r\n                                    key={index}\r\n                                    meet={meet}\r\n                                    {...this.props}\r\n                                    setParentState={setParentState}\r\n                                />)\r\n                            }\r\n                        </>\r\n                        :\r\n                        <Group>\r\n                            <Div>{ getMessage('meet_empty_list') }</Div>\r\n                        </Group>\r\n                }\r\n            </Group>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MeetList;\r\n","import React, {Component} from 'react';\r\nimport { Panel,PanelHeader } from '@vkontakte/vkui';\r\nimport { getMessage } from '../js/helpers';\r\nimport MeetListAdmin from '../components/MeetListAdmin';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n\r\nclass AdminPage extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            meets: this.props.allMeets\r\n        };\r\n\r\n        this.api = this.props.api;\r\n    }\r\n\r\n\r\n    render() {\r\n        const { id, setParentState } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>{ getMessage('admin_panel_title') }</PanelHeader>\r\n\r\n                        <MeetListAdmin\r\n                            {...this.props}\r\n                            meets={ this.props.allMeets }\r\n                            setParentState={ setParentState }\r\n                        />\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AdminPage;\r\n","import React, { Component } from 'react';\r\nimport { Panel, PanelHeader, FormLayout, UsersStack, Textarea, Input, Link,\r\n  Spinner, Div, Group, Separator, Radio, File, Checkbox, Button } from '@vkontakte/vkui';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\n//import Cropper from 'react-cropper';\r\n//import 'cropperjs/dist/cropper.css';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\nimport { getMessage, dd } from '../js/helpers';\r\n\r\nclass AddMeetPage extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n          disabled: false,\r\n          token: false,\r\n          error: false,\r\n          message: false\r\n      }\r\n\r\n      this.onChange = this.onChange.bind(this);\r\n      this.AddMeet = this.AddMeet.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n      const { edit } = this.props;\r\n\r\n      if (edit) {\r\n          this.setState({ ...edit });\r\n      }\r\n  }\r\n\r\n\r\n  AddMeet = async () => {\r\n      const { api, setParentState, openDoneSnackbar, openErrorSnackbar, state } = this.props;\r\n\r\n      setParentState({ disabled: true });\r\n      const start = `${state.start_date} ${state.start_time}`;\r\n      const finish = `${state.finish_date} ${state.finish_time}`;\r\n      const { success, failed } = await api.AddMeet({\r\n          isGroup: state.groupSelected,\r\n          name: state.name,\r\n          start: start,\r\n          finish: finish,\r\n          description: state.description,\r\n          photo: state.photo\r\n      });\r\n\r\n      if (success) {\r\n          const mes = `Ваша петиция <<${state.name}>> отправлена на модерацию.`;\r\n        if(state.noty){\r\n          fetch('https://cors-anywhere.herokuapp.com/https://groovy-apricot.glitch.me/', { method: 'GET' })\r\n          .then(res => connect.send(\"VKWebAppSendPayload\", {\"group_id\": 189366357, \"payload\": {\"mes\": mes}}));\r\n        }\r\n\r\n          setParentState({\r\n                      activePanel: 'meets',\r\n                      activeStory: 'home',\r\n                      symbols_name: '',\r\n                \t\t\tsymbols_description: '',\r\n                \t\t\tname: '',\r\n                      description: '',\r\n                \t\t\tstart_date: false,\r\n                \t\t\tfinish_date: false,\r\n                \t\t\tphoto: false,\r\n                  \t  accept: false\r\n                    });\r\n                  openDoneSnackbar(success);\r\n      } else if(failed){\r\n            openErrorSnackbar(failed)\r\n      } else {\r\n            openErrorSnackbar('Создавать петиции можно не чаще четырёх раз в день')\r\n      }\r\n      setTimeout(() => setParentState({\r\n        popout: null\r\n      }), 3000)  // понял, что всё таки нужно\r\n  }\r\n  onChange = (e) => {\r\n    connect.unsubscribe(this.sub);\r\n    connect.subscribe(this.sub);\r\n    const { name, value } = e.currentTarget;\r\n    if(name === 'file'){\r\n      connect.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7217332, \"scope\": \"photos\"})\r\n    } else {\r\n      this.props.setParentState({ [name]: value });\r\n      if(name === 'name') this.props.setParentState({ symbols_name: `${value.length}/60` })\r\n      if(name === 'description') this.props.setParentState({ symbols_description: `${value.length}/254` })\r\n    }\r\n  }\r\n\r\n\r\n  sub = (e) => {\r\n    switch (e.detail.type) {\r\n      case 'VKWebAppAccessTokenReceived':\r\n      console.log(e.detail.type , e.detail.data)\r\n      if(e.detail.data.scope === 'photos'){\r\n        this.setState({ token: e.detail.data.access_token })\r\n        connect.send(\"VKWebAppCallAPIMethod\", {\"method\": \"photos.getUploadServer\", \"request_id\": \"photo_req\", \"params\":\r\n         {\"album_id\": \"267690301\",  \"group_id\": \"189366357\", \"v\":\"5.103\", \"access_token\": e.detail.data.access_token }});\r\n      }\r\n        break;\r\n      case 'VKWebAppCallAPIMethodResult':\r\n         if(e.detail.data.request_id === 'photo_req'){\r\n           this.uploadPhoto(e.detail.data.response.upload_url);\r\n         }\r\n         if(e.detail.data.request_id === 'photo_save_req'){\r\n           connect.unsubscribe(this.sub);\r\n           this.setState({\r\n             error: false,\r\n             message: 'Обложка загружена.',\r\n             disabled: false\r\n           })\r\n\r\n           this.props.setParentState({ photo: e.detail.data.response[0].sizes[e.detail.data.response[0].sizes.length - 1].url });\r\n           dd('photo', e.detail.data.response[0].sizes.length - 1 , e.detail.data.response[0].sizes[e.detail.data.response[0].sizes.length - 1].url);\r\n         }\r\n         dd('VKWebAppCallAPIMethodResult', e.detail.data);\r\n\r\n        break;\r\n      case 'VKWebAppCallAPIMethodFailed':\r\n          console.log('VKWebAppCallAPIMethodFailed', e.detail.data);\r\n        break;\r\n      default:\r\n        // code\r\n    }\r\n  }\r\n\r\n  uploadPhoto = async (upload_url) => {\r\n    const requestUrl = `https://vargasoff.ru/meet.php`;\r\n    const file = document.getElementById('file').files[0];\r\n//    this.setState({ loading: true })\r\n    if(!file) {\r\n      this.setState({ error: true })\r\n      this.setState({ message: 'Файл не был выбран' })\r\n      connect.unsubscribe(this.sub);\r\n      return\r\n    }\r\n    if(!(file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg')){\r\n      this.setState({ error: true })\r\n      this.setState({ message: 'Формат выбранного файла не поддерживается.' })\r\n      connect.unsubscribe(this.sub);\r\n      return\r\n    }\r\n    console.log(file.size)\r\n    if(file.size > 1190000){\r\n      this.setState({ error: true })\r\n      this.setState({ message: 'Размер выбранного файла слишком большой.' })\r\n      connect.unsubscribe(this.sub);\r\n      return\r\n    }\r\n\r\n    dd('file', file)\r\n    const body = new FormData();\r\n    body.append('file', file);\r\n    body.append('url', upload_url);\r\n    this.setState({ disabled: true });\r\n    fetch(requestUrl, { method: 'POST', body }).then(res => res.json()).then(res => {\r\n\r\n     connect.send(\"VKWebAppCallAPIMethod\", { \"method\": \"photos.save\", \"request_id\": \"photo_save_req\",\r\n      \"params\":\r\n      {\r\n        \"album_id\": \"267690301\",\r\n        \"group_id\": \"189366357\",\r\n        \"server\": res.info.server,\r\n        \"photos_list\": res.info.photos_list,\r\n        \"hash\": res.info.hash,\r\n        \"access_token\": this.state.token,\r\n        \"v\":\"5.103\"\r\n      }\r\n    });\r\n\r\n   });\r\n  }\r\n    render() {\r\n        const onChange = this.onChange;\r\n        const { id, state, openErrorSnackbar, setParentState } = this.props;\r\n        const { name, start, snackbar, start_date, finish_date,\r\n          finish, description, symbols_name, symbols_description, photo, accept } = state;\r\n        const formLang = getMessage('forms');\r\n\r\n        const backgroundImage = `url(${photo || 'https://sun9-17.userapi.com/c856016/v856016841/191507/A_xwv3xLXfg.jpg'})`;\r\n    //    const cropper = React.createRef(null);\r\n\r\n      /*  function dataURLtoFile(dataurl, filename) {\r\n\r\n          var arr = dataurl.split(','),\r\n              mime = arr[0].match(/:(.*?);/)[1],\r\n              bstr = atob(arr[1]),\r\n              n = bstr.length,\r\n              u8arr = new Uint8Array(n);\r\n\r\n          while(n--){\r\n              u8arr[n] = bstr.charCodeAt(n);\r\n          }\r\n\r\n          return new File([u8arr], filename, {type:mime});\r\n      }\r\n\r\n      //Usage example:\r\n      var file = dataURLtoFile('data:text/plain;base64,aGVsbG8gd29ybGQ=','hello.txt');\r\n      console.log(file);*/\r\n\r\n        return (\r\n            <Panel id={id}>\r\n          {/*  <Cropper\r\n                ref={cropper}\r\n                src='https://sun9-17.userapi.com/c856016/v856016841/191507/A_xwv3xLXfg.jpg'\r\n                style={{height: 400, width: '100%'}}\r\n                aspectRatio={16 / 9}\r\n                guides={true}\r\n                crop={(e)=>console.log(e.target.cropper.getCroppedCanvas().toDataURL())}\r\n              />\r\n              */}\r\n                <PanelHeader>{ getMessage('add_meet_page') }</PanelHeader>\r\n                <Group title='Предпросмотр'/>\r\n                <Div onClick={() => connect.send(\"VKWebAppShowImages\", { images: [ photo ] })} className=\"MeetImg\" style={{ backgroundImage }} >\r\n                    <Div style={{ marginTop: '20%' }} className=\"MeetName\">{ name || 'Сырки дорогие!' }</Div>\r\n                    <Div style={{ marginTop: '20%' }} className=\"MeetName\">{ start_date }</Div>\r\n                </Div>\r\n               <Group>\r\n\r\n                 <Separator style={{ margin: '12px 0' }} />\r\n\r\n                     <UsersStack  photos={[ state.groupSelected ? state.currentGroupInfo.photo : state.fetchedUser.photo_100 ]}>\r\n                     { state.groupSelected ? state.currentGroupInfo.name\r\n                   : `${state.fetchedUser.first_name} ${state.fetchedUser.last_name}` } • участников нет\r\n                     </UsersStack>\r\n\r\n\r\n                 <Separator style={{ margin: '12px 0' }} />\r\n                 <Div id='desk'>{state.description || 'Требуем понизить цену на сырки'}</Div>\r\n\r\n\r\n               </Group>\r\n               <Group title='Информация о петиции'>\r\n                   <FormLayout>\r\n\r\n                    {\r\n                      state.isCurrentGroupAdmin && state.currentGroupInfo &&\r\n\r\n                      <Group title='Автор'>\r\n                      <Radio\r\n                        name=\"radio\"\r\n                        value=\"user\"\r\n                        onChange={(e) => setParentState({\r\n                          groupSelected: false\r\n                        })}\r\n                        checked={!state.groupSelected}\r\n                      >{state.fetchedUser.first_name} {state.fetchedUser.last_name}\r\n                      </Radio>\r\n                      <Radio\r\n                        name=\"radio\"\r\n                        value=\"group\"\r\n                        checked={state.groupSelected}\r\n                        onChange={(e) => setParentState({\r\n                          groupSelected: e.currentTarget.checked\r\n                        })}\r\n                        description=\"Петиция будет опубликована от имени этого сообщества\">\r\n                        {state.currentGroupInfo.name}\r\n                      </Radio>\r\n                      </Group>\r\n                    }\r\n                       <Input\r\n                           type=\"text\"\r\n                           top={ `Название ${symbols_name}` }\r\n                           name=\"name\"\r\n                           maxLength='60'\r\n                           value={ name }\r\n                           placeholder={'Сырки дорогие!'}\r\n                           onChange={ onChange }\r\n                       />\r\n                       <Textarea\r\n                           top={  `Описание ${symbols_description }` }\r\n                           maxLength='254'\r\n                           name=\"description\"\r\n                           placeholder=\"Требуем понизить цену на сырки\"\r\n                           value={ description }\r\n                           onChange={ onChange }\r\n                       />\r\n                       <Input\r\n                           type=\"date\"\r\n                           top={ formLang.start }\r\n                           name=\"start_date\"\r\n                           value={ start }\r\n                           onChange={ onChange }\r\n                       />\r\n                    {/*   <Input\r\n                           type=\"time\"\r\n                           name=\"start_time\"\r\n                           onChange={ onChange }\r\n                       />*/}\r\n                       <Input\r\n                           type=\"date\"\r\n                           top={ formLang.finish }\r\n                           name=\"finish_date\"\r\n                           value={ finish }\r\n                           onChange={ onChange }\r\n                       />\r\n                    {/* <Input\r\n                           type=\"time\"\r\n                           name=\"finish_time\"\r\n                           onChange={ onChange }\r\n                       />*/}\r\n                       <File\r\n                           id='file'\r\n                           maxfiles={1}\r\n                           acceptfiletypes={['image/png', 'image/jpg', 'image/jpeg', '.png']}\r\n                           minfilesize={0}\r\n                           top={ formLang.photo }\r\n                           type=\"file\"\r\n                           name=\"file\"\r\n                           onChange={ onChange }\r\n                       />\r\n                      { this.state.error &&  <Div>{this.state.message}</Div>}\r\n                      { photo &&  <UsersStack onClick={() => connect.send(\"VKWebAppShowImages\", { images: [ photo ] })} photos={[ photo ]}>Обложка загружена</UsersStack>}\r\n                       <Checkbox checked={state.accept} onChange={ (e) => this.props.setParentState({ accept: e.currentTarget.checked }) }>Согласен с\r\n                       <Link target=\"_blank\" href=\"https://vk.com/@virtualmeetingsclub-pravila-razmescheniya\"> правилами</Link></Checkbox>\r\n                       <Checkbox disabled={state.noty} checked={state.noty} onChange={ (e) => {\r\n                         if(e.currentTarget.checked){\r\n                            console.log('отправили!')\r\n                            connect.send(\"VKWebAppAllowMessagesFromGroup\", { \"group_id\": 189366357 });\r\n                         }\r\n                       }}>\r\n                       Уведомить о результате модерации\r\n                      </Checkbox>\r\n                       <Button size=\"xl\" disabled={this.state.disabled} onClick={ () => {\r\n                         const name = state.name.replace(/\\s/g, '');\r\n                         const description = state.description.replace(/\\s/g, '');\r\n\r\n                         if(name === undefined || name.length < 5){\r\n                            openErrorSnackbar('Название петиции указано неверно.');\r\n                           return\r\n                         }\r\n                         if(description === undefined || description < 5){\r\n                            openErrorSnackbar('Описание петиции указано неверно.');\r\n                           return\r\n                         }\r\n                         if(!start_date){\r\n                            openErrorSnackbar('Дата начала не указана.');\r\n                           return\r\n                         }\r\n                         if(!finish_date){\r\n                            openErrorSnackbar('Дата окончания не указана.');\r\n                           return\r\n                         }\r\n                         if(Date.parse(start_date) > Date.parse(finish_date)){\r\n                            openErrorSnackbar('Дата окончания петиции раньше даты начала.');\r\n                           return\r\n                         }\r\n                         if((Date.parse(start_date) < Date.parse(new Date())) && (  new Date(start_date).getDay() < new Date().getDay()  )){\r\n                            openErrorSnackbar('Дата начала петиции уже прошла.');\r\n                           return\r\n                         }\r\n                         if(!accept){\r\n                            openErrorSnackbar('Вы не согласились с правилами.');\r\n                           return\r\n                         }\r\n                         if(!photo){\r\n                            openErrorSnackbar('Обложка петиции обязательна.');\r\n                           return\r\n                         }\r\n\r\n                         this.AddMeet();\r\n                         connect.unsubscribe(this.sub);\r\n                       } }>\r\n                           { this.state.disabled ? <Spinner /> : formLang.add }\r\n                       </Button>\r\n                   </FormLayout>\r\n                   </Group>\r\n                   {snackbar}\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddMeetPage;\r\n","import React from 'react';\r\n\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Footer from '@vkontakte/vkui/dist/components/Footer/Footer';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport Spinner from '@vkontakte/vkui/dist/components/Spinner/Spinner';\r\nimport { getMessage } from '../js/helpers';\r\n\r\nexport class Offline extends React.Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Panel id=\"offline\" theme=\"white\">\r\n              <PanelHeader>{/*Проблемы*/}</PanelHeader>\r\n                <Div>\r\n                    <Footer style={{ marginTop: '50%' }} >{ getMessage('no_internet') }</Footer>\r\n                    <Spinner/>\r\n                </Div>\r\n            </Panel>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Offline;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, Button, FixedLayout, Div } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n//import img from '../img/list.png'\r\nclass Rules extends Component {\r\n\r\n\r\n    render() {\r\n        const { id, onStoryChange } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Диванные петиции</PanelHeader>\r\n              {/*  <img alt='' style={{ textAlign: 'center' }} width=\"75%\" height=\"100%\" src={img}/>*/}\r\n              <Div className='title' style={{ textAlign: 'center', marginTop: '40%' }}>Диванные петиции</Div>\r\n                <Div style={{ textAlign: 'justify' }} className='subtitle'> Диванные петиции — новый способ выразить свое мнение не выходя из дома.\r\nПриложение и контент в нем не преследует цели кого-либо оскорбить, является исключительно юмористическим, носит развлекательный контент и тщательно модерируется.</Div>\r\n                <FixedLayout vertical='bottom'>\r\n                <Div>\r\n                <Button size='xl' onClick={() => onStoryChange('onboarding', 'onboarding2')} level=\"primary\">Далее</Button>\r\n                </Div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Rules;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, Button, FixedLayout, Div } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n//import img from '../img/list.png'\r\nclass Rules extends Component {\r\n\r\n\r\n    render() {\r\n        const { id, onStoryChange } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Диванные петиции</PanelHeader>\r\n                {/*  <img alt='' style={{ textAlign: 'center' }} width=\"75%\" height=\"100%\" src={img}/>*/}\r\n                <Div className='title' style={{ textAlign: 'center', marginTop: '40%' }}>Навигация</Div>\r\n                <Div style={{ textAlign: 'justify' }} className='subtitle'>\r\n                На первой вкладке находится список петиций, на второй — раздел для организации собственной, и на третьей — те, в которых вы принимаете участие. </Div>\r\n                <FixedLayout vertical='bottom'>\r\n                <Div>\r\n                <Button size='xl' onClick={() => onStoryChange('onboarding', 'onboarding3')} level=\"primary\">Далее</Button>\r\n                </Div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Rules;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, Button, FixedLayout, Div } from '@vkontakte/vkui';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\nclass Rules extends Component {\r\n\r\n\r\n    render() {\r\n        const { id, onStoryChange } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Диванные петиции</PanelHeader>\r\n                <Div className='title' style={{ textAlign: 'center', marginTop: '40%' }}>Уведомления</Div>\r\n                <Div style={{ textAlign: 'justify' }} className='subtitle'>\r\n                Если вы хотите получать важные уведомления, то разрешите их в следующем окне. </Div>\r\n                <Div style={{ textAlign: 'center' }} className='subtitle'>\r\n                Обещаем не тревожить по пустякам!</Div>\r\n                <FixedLayout vertical='bottom'>\r\n                <Div>\r\n                <Button size='xl' onClick={() => {\r\n                onStoryChange('home', 'meets')\r\n                connect.send(\"VKWebAppAllowMessagesFromGroup\", { \"group_id\": 189366357 });\r\n              }} level=\"primary\">Начать</Button>\r\n                </Div>\r\n                </FixedLayout>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Rules;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, Button, Placeholder } from '@vkontakte/vkui';\r\n\r\nimport Icon56CheckCircleOutline from '@vkontakte/icons/dist/56/check_circle_outline';\r\n\r\n//import connect from '@vkontakte/vk-connect';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\nclass Success extends Component {\r\n\r\n\r\n    render() {\r\n        const { id, onStoryChange } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Успех</PanelHeader>\r\n                <Placeholder\r\n                  icon={<Icon56CheckCircleOutline id='success'/>}\r\n                  action={\r\n                    <Button\r\n                      size=\"l\"\r\n                      onClick={() => onStoryChange('home', 'meets')}\r\n                      level=\"tertiary\">\r\n                     На главную\r\n                    </Button>\r\n                    }\r\n                  stretched\r\n                >\r\n             Сервис успешно добавлен в сообщество, откройте сервис из него\r\n             </Placeholder>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Success;\r\n","import React, {Component} from 'react';\r\nimport { Panel, PanelHeader, Button, IS_PLATFORM_IOS, Placeholder, HeaderButton } from '@vkontakte/vkui';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport Icon56UsersOutline from '@vkontakte/icons/dist/56/users_outline';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './Home.css';\r\n\r\nclass CommIntegration extends Component {\r\n\r\n\r\n    render() {\r\n        const { id, onStoryChange } = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader left={\r\n                  <HeaderButton onClick={ () => onStoryChange('home', 'meets') }>\r\n\t\t\t               {\r\n                       IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>\r\n                     }\r\n\t\t               </HeaderButton>\r\n                 }> Интеграция\r\n                 </PanelHeader>\r\n        <Placeholder\r\n           icon={<Icon56UsersOutline />}\r\n           action={<Button size=\"l\" onClick={() => connect.send(\"VKWebAppAddToCommunity\", {})} level=\"primary\">Добавить в сообщество</Button>}\r\n           stretched\r\n         >\r\n           Вы можете установить сервис в сообщество, тыры пыры, что-то ещё\r\n         </Placeholder>\r\n            </Panel>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CommIntegration;\r\n","import React from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport { View, Epic, Tabbar, ConfigProvider, Snackbar, Avatar, TabbarItem, ScreenSpinner } from '@vkontakte/vkui';\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/App.css';\r\n\r\nimport API from './js/api';\r\nimport { checkVersionAndroid, showAlert } from './js/helpers';\r\n\r\nimport Icon24List from '@vkontakte/icons/dist/24/list';\r\nimport Icon24FavoriteOutline from '@vkontakte/icons/dist/24/favorite_outline';\r\nimport Icon24Privacy from '@vkontakte/icons/dist/24/privacy';\r\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\n\r\nimport Home from './panels/Home';\r\nimport Favorite from './panels/Favorite';\r\n\r\nimport Meet from './panels/Meet';\r\nimport MeetAdmin from './panels/MeetAdmin';\r\n\r\nimport AdminPage from './panels/AdminPage';\r\nimport AddMeetPage from './panels/AddMeetPage';\r\n\r\nimport Offline from './panels/Offline';\r\n\r\nimport Onboarding from './panels/Onboarding';\r\nimport Onboarding2 from './panels/Onboarding2';\r\nimport Onboarding3 from './panels/Onboarding3';\r\n\r\nimport AddGroupSuccess from './panels/AddGroupSuccess';\r\n\r\nimport CommIntegration from './panels/CommIntegration';\r\n\r\nclass App extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tactiveStory: 'home',\r\n\t\t\tactivePanel: 'meets',\r\n\t\t\tactiveTab: 'all',\r\n\t\t\tsnackbar: null,\r\n\t\t\tfetchedUser: {\r\n\t\t\t\tid: null\r\n\t\t\t},\r\n\t\t\tcache: null,\r\n\t\t\tpopout: <ScreenSpinner />,\r\n\t\t\toffline: false,\r\n\t\t\tmeets: false,\r\n\t\t\tsymbols_name: '',\r\n\t\t\tsymbols_description: '',\r\n\t\t\taccept: false,\r\n\t\t\tname: '',\r\n\t\t\tstart_date: false, //0000-00-00\r\n\t\t\tfinish_date: false, // 0000-00-00\r\n\t\t\tstart_time: '00:00:00',\r\n\t\t\tfinish_time: '00:00:00',\r\n\t\t\tdescription: '',\r\n\t\t\tphoto: false,\r\n\t\t\tmeet: false,\r\n\t\t\tnoty: false,\r\n\t\t\tcomments: false,\r\n\t/*\t\tcurrentMeetId: false,*/\r\n\t\t\tuserMeets: false,\r\n\t\t\tallMeets: false,\r\n\t\t\tisCurrentGroupAdmin: false,\r\n\t\t\tcurrentGroupInfo: false,\r\n\t\t\tgroupSelected: false,\r\n\t\t\tchangedRadio: false,\r\n\t\t  scheme: false ? 'space_gray' : 'bright_light',\r\n\t\t};\r\n\r\n\t\tthis.initApp();\r\n\r\n\t\tthis.onStoryChange \t= this.onStoryChange.bind(this);\r\n\t}\r\n\r\n\t\tinitApp = () => {\r\n\r\n\t\twindow.showOfflinePage = (e) => {\r\n            this.setState({ offline: e });\r\n\t\t};\r\n\r\n\t\twindow.showAlert = (message, title, actions) => {\r\n            showAlert(this.setState.bind(this), message, title, actions);\r\n\t\t};\r\n\r\n\t\twindow.showLoader = (show) => {\r\n            this.setState({ popout: show ? <ScreenSpinner /> : null });\r\n\t\t};\r\n\r\n\t\tcheckVersionAndroid();\r\n\r\n\t\tthis.api = new API();\r\n\t\tthis.checkRoute();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconnect.subscribe(this.sub);\r\n\t\tconnect.send('VKWebAppGetUserInfo', {});\r\n\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#0080b4\"});\r\n\t\tsetInterval(() => this.checkOnline(), 3000);\r\n\t\tthis.getMeets();\r\n\t}\r\n\t sub = e => {\r\n\t\tswitch (e.detail.type) {\r\n\t\t\tcase 'VKWebAppUpdateConfig':\r\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\t\tlet schemeK = e.detail.data.scheme;\r\n\t\t\t\tswitch (schemeK) {\r\n\t\t\t\t\tcase 'bright_light':\r\n\t\t\t\t\t\tschemeK = 'client_light'\r\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#0080b4\"});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'client_dark':\r\n\t\t\t\t\t\tschemeK = 'space_gray'\r\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#19191a\"});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'space_gray':\r\n\t\t\t\t\t\tschemeK = 'space_gray'\r\n\t\t\t\t\t\tconnect.send(\"VKWebAppSetViewSettings\", {\"status_bar_style\": \"light\", \"action_bar_color\": \"#19191a\"});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tschemeK = e.detail.data.scheme;\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(schemeK)\r\n\t\t\t\tschemeAttribute.value = schemeK;\r\n\t\t\t\tthis.setState({ scheme: schemeK });\r\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'VKWebAppGetUserInfoResult':\r\n\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\r\n\t\t\t\tlet user = this.state.fetchedUser\r\n\t\t\t\tthis.addUser(user)\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'VKWebAppAllowMessagesFromGroupResult':\r\n\t\t\t\t\tthis.setState({ noty: e.detail.data.result });\r\n\t\t\t\t\tconsole.log(this.state)\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'VKWebAppAddToCommunityResult':\r\n\t\t\t\tconsole.log(e.detail.data.group_id);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tactivePanel: 'succ'\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\r\n\t\t\t\tif(e.detail.data.scope === '') \tthis.openErrorSnackbar('Действие отменено пользователем.')\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase 'VKWebAppAccessTokenFailed':\r\n\t\t\t\tthis.openErrorSnackbar('Действие отменено пользователем.')\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\t// code\r\n\t\t}\r\n\t}\r\n\t// TODO: Нужен history для навигации назад с других экранов и системной кнопки назад на ведре\r\n\tonStoryChange = (story, panel) => {\r\n\t//\tconnect.unsubscribe(this.sub);\r\n\t\tlet userId = this.state.fetchedUser.id\r\n\t\tthis.setState({\r\n\t\t\tactiveStory: story,\r\n\t\t\tactivePanel: panel,\r\n\t\t\tcomments: false,\r\n\t\t\t// snackbar: null\r\n\t\t});\r\n\t\tif(story !== 'home') this.setState({ snackbar: null });\r\n\t\tif(story === 'home') this.getMeets(this.state.fetchedUser.id);\r\n\t\tif(story === 'favorites') {\r\n\t\t\tlet activeTab = this.state.activeTab\r\n\t\t\tif(activeTab === 'all'){\r\n\t\t\t\tthis.getUserMeets(userId);\r\n\t\t\t} else if(activeTab === 'my'){\r\n\t\t\t\tthis.getOwneredMeets(userId);\r\n\t\t\t} else if(activeTab === 'exp'){\r\n\t\t\t\tthis.getExpiredUserMeets(userId);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(story === 'admin') this.getAllMeets(this.state.fetchedUser.id);\r\n\t\tif(panel !== 'meet' || panel !== 'succ' || panel !== 'comm') connect.send('VKWebAppDisableSwipeBack');\r\n\t}\r\n\r\n\tcheckRoute = async e => {\r\n\t\tlet route = window.location.hash.replace('#', '');\r\n\t\tconsole.log(route);\r\n\t\tif (route > 0) {\r\n\t\t\t\tconst meet = await this.api.GetMeet(route);\r\n\t\t\t\tconsole.log(meet[0]);\r\n\t\t\t\tif(meet[0]) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tmeet: meet[0],\r\n\t\t\t\t\t\tactivePanel: 'meet'\r\n\t\t\t\t\t });\r\n\t\t\t\t} else return\r\n\t\t} else return\r\n\t}\r\n\tcheckOnline = e => {\r\n\t\tif(window.navigator.onLine){\r\n\t\t\twindow.showOfflinePage(false);\r\n\t\t} else window.showOfflinePage(true);\r\n\t}\r\n\tmakeStory = async (id) => {\r\n\t\tconsole.log('makeStory')\r\n\t\tlet story = await this.api.getStory(id);\r\n\t\tstory = 'data:image/png;base64,' + story.image.replace(`b'`,'').replace(`'`, '');\r\n\t\tconsole.log(story);\r\n\t\tlet url = `https://vk.com/app7217332#${id/*this.state.currentMeetId*/}`\r\n\t\tawait connect.send(\"VKWebAppShowStoryBox\", { \"background_type\" : \"image\", \"locked\": true, \"blob\": story, \"attachment\": {\r\n\t\t\t\"text\": \"go_to\",\r\n\t\t\t\"type\": \"url\",\r\n\t\t\t\"url\": url\r\n\t\t} });\r\n\t}\r\n\r\n\topenDoneSnackbar = e => {\r\n\t\tthis.setState({\r\n\t\t\tsnackbar: <Snackbar\r\n\t\t\t\t\t\t\t\t\t\tduration={2000}\r\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\r\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={{ backgroundColor: '#4bb34b' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{e}\r\n\t\t\t\t\t\t\t\t</Snackbar>\r\n\t\t});\r\n\t}\r\n\topenErrorSnackbar = e => {\r\n\t\tthis.setState({\r\n\t\t\tsnackbar: <Snackbar\r\n\t\t\t\t\t\t\t\t\t\tduration={2000}\r\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\r\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={{backgroundColor: '#FF0000'}}><Icon16Clear fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{e}\r\n\t\t\t\t\t\t\t\t</Snackbar>\r\n\t\t});\r\n\t}\r\n\r\n\tgetMeets = async () => { // доступные митинги\r\n\t\t\twindow.showLoader(true);\r\n\t\t\tthis.setState({ meets: false });\r\n\t\t\tconst meets = await this.api.GetMeets();\r\n\t\t\tthis.setState({ meets });\r\n\t\t\twindow.showLoader(false);\r\n\t}\r\n\tgetExpiredUserMeets = async () => {\r\n\t\t\tthis.setState({ userMeets: false });\r\n\t\t\twindow.showLoader(true);\r\n\t\t\tconst userMeets = await this.api.GetExpiredUserMeets(this.state.fetchedUser.id);\r\n\t\t\tthis.setState({ userMeets });\r\n\t\t\twindow.showLoader(false);\r\n\t}\r\n\tgetOwneredMeets = async () => {\r\n\t\t\tthis.setState({ userMeets: false });\r\n\t\t\twindow.showLoader(true);\r\n\t\t\tconst userMeets = await this.api.GetOwneredMeets(this.state.fetchedUser.id);\r\n\t\t\tthis.setState({ userMeets });\r\n\t\t\twindow.showLoader(false);\r\n\t}\r\n\tgetUserMeets = async () => { // митинги, в которых учавствует юзер\r\n\t\t\tthis.setState({ userMeets: false });\r\n\t\t\twindow.showLoader(true);\r\n\t\t\tconst userMeets = await this.api.GetUserMeets(this.state.fetchedUser.id);\r\n\t\t\tthis.setState({ userMeets });\r\n\t\t\twindow.showLoader(false);\r\n\t}\r\n\tgetAllMeets = async () => { // админка\r\n\t\t\twindow.showLoader(true);\r\n\t\t\tconst allMeets = await this.api.GetAllMeets(this.state.fetchedUser.id);\r\n\r\n\t\t\tthis.setState({ allMeets });\r\n\t\t\twindow.showLoader(false);\r\n\t}\r\n\tgetComments = async (meet) => {\r\n\t\t\tconst comments = await this.api.GetComments();\r\n\t\t\tthis.setState({ comments });\r\n\t}\r\n\taddUser = async (user) => { // добавить данные юзера в базу\r\n\t\t\tconst isFirst = await this.api.IsFirst(user.id);\r\n\t\t\tconst clubInfo = await this.api.GetGroupInfo();\r\n\t\t\tif(clubInfo.name) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisCurrentGroupAdmin: true,\r\n\t\t\t\t\tcurrentGroupInfo: clubInfo\r\n\t\t\t\t});\r\n\t\t\tconsole.log('isCurrentGroupAdmin true');\r\n\t\t}\r\n\t\t\tif(isFirst){ // показываем онбординг, если юзер зашёл первый раз\r\n\t\t\t\tthis.api.AddUser(user);\r\n\t\t\t\tthis.onStoryChange('onboarding', 'onboarding');\r\n\t\t\t} else this.api.UpdateUser(user); // обновить данные юзера в базе\r\n\t}\r\n\trender() {\r\n\t\tconst { api, state, onStoryChange, getMeets, makeStory, getComments,\r\n\t\t\tgetUserMeets, openErrorSnackbar, openDoneSnackbar, getOwneredMeets, getExpiredUserMeets } = this;\r\n\r\n\t\tconst { offline, popout, activeStory, meets, userMeets, allMeets,\r\n\t\t\t activePanel, fetchedUser, comments } = this.state;\r\n\r\n\t\tconst isUserAdmin = (\r\n\t\t\tthis.state.fetchedUser.id === 35501089  ||\r\n\t\t\tthis.state.fetchedUser.id === 236820864 ||\r\n\t\t\tthis.state.fetchedUser.id === 87478742\r\n\t\t );\r\n\r\n\t\tconst props = { getOwneredMeets, getExpiredUserMeets, openDoneSnackbar,\r\n\t\t\t openErrorSnackbar,\tapi, isUserAdmin, getUserMeets, state, activeStory,\r\n\t\t\t makeStory, getComments, getMeets, meets, userMeets,\r\n\t\t\tallMeets, onStoryChange, fetchedUser,\r\n\t\t\tcomments, setParentState: this.setState.bind(this) };\r\n\r\n\t\t//const history =  ? ['meets', 'meet'] : ['meets'];\r\n\r\n\t\tconst history = () => {\r\n\t\t\tlet response;\r\n\t\t\tswitch (activePanel) {\r\n\t\t\t\tcase 'meet':\r\n\t\t\t\t\tresponse = ['meets', 'meet'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'succ':\r\n\t\t\t\t\t response = ['meets', 'succ'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'comm':\r\n\t\t\t\t\tresponse = ['meets', 'comm'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'meetAdmin':\r\n\t\t\t\t\tresponse = ['meets', 'meetAdmin'];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tresponse = ['meets'];\r\n\t\t\t}\r\n\t\t\treturn response;\r\n\t\t}\r\n\t//\tconsole.log(history())\r\n\t/*\tconst history =\r\n\t\t\tactivePanel === 'meet' ||\r\n\t\t\tactivePanel === 'comm' || ДОРАБОТАТЬ ПЕРЕРАБОТАТЬ В КОРНЕ\r\n\t\t\tactivePanel === 'succ' ? [activePanel, 'panel'] : [activePanel];*/\r\n\r\n\t\tconst onSwipeBack = e => {\r\n\t\t\tthis.setState({ activePanel: 'meets' });\r\n\t\t}\r\n\r\n\t\tconst views = { onSwipeBack, popout, activePanel };\r\n\r\n\t\treturn (\r\n\t\t\t <ConfigProvider isWebView>\r\n\t\t\t\t{\r\n\t\t\t\t\toffline ?\r\n\t\t\t\t\t\t<View id=\"offline\"  popout={ popout } activePanel=\"offline\">\r\n\t\t\t\t\t\t\t<Offline id=\"offline\" { ...props } />\r\n\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Epic activeStory={ activeStory } tabbar={\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\tactiveStory !== 'onboarding' &&\r\n\t\t\t\t\t\t\t\tactivePanel !== 'meet' &&\r\n\t\t\t\t\t\t\t\tactivePanel !== 'comm' &&\r\n\t\t\t\t\t\t\t\tactivePanel !== 'succ'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t&& <Tabbar>\r\n\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={ () => this.onStoryChange('home', 'meets') }\r\n\t\t\t\t\t\t\t\tselected={ activeStory === 'home' }\r\n\t\t\t\t\t\t\t><Icon24List /></TabbarItem>\r\n\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\tonClick={ () => this.onStoryChange('addMeet', 'addMeetPage') }\r\n\t\t\t\t\t\t\t\tselected={ activeStory === 'addMeet' }\r\n\t\t\t\t\t\t\t><Icon24Add /></TabbarItem>\r\n\t\t\t\t\t\t\t{ isUserAdmin && <TabbarItem\r\n\t\t\t\t\t\t\t\t\tonClick={ () => this.onStoryChange('admin', 'meets') }\r\n\t\t\t\t\t\t\t\t\tselected={ activeStory === 'admin' }\r\n\t\t\t\t\t\t\t\t><Icon24Privacy /></TabbarItem>}\r\n\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\t\tonClick={ () => this.onStoryChange('favorites', 'meets') }\r\n\t\t\t\t\t\t\t\t\tselected={ activeStory === 'favorites' }\r\n\t\t\t\t\t\t\t\t><Icon24FavoriteOutline /></TabbarItem>\r\n\t\t\t\t\t\t\t</Tabbar>\r\n\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t<View id=\"home\"\thistory={history()} { ...views } >\r\n\t\t\t\t\t\t\t\t<Home id=\"meets\" { ...props } />\r\n\t\t\t\t\t\t\t\t<CommIntegration id=\"comm\" { ...props } />\r\n\t\t\t\t\t\t\t\t<AddGroupSuccess id='succ' { ...props } />\r\n\t\t\t\t\t\t\t\t<Meet id=\"meet\" { ...props } />\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t<View id=\"addMeet\" { ...views } >\r\n\t\t\t\t\t\t\t\t<AddMeetPage id=\"addMeetPage\" { ...props } />\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t<View id=\"admin\" history={history()}  { ...views } >\r\n\t\t\t\t\t\t\t\t<AdminPage id=\"meets\" { ...props } />\r\n\t\t\t\t\t\t\t\t<MeetAdmin id='meetAdmin' { ...props } />\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t<View\tid=\"favorites\" history={history()}  { ...views } >\r\n\t\t\t\t\t\t\t\t<Favorite id=\"meets\" { ...props } />\r\n\t\t\t\t\t\t\t\t<Meet id=\"meet\" { ...props }/>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t<View id=\"onboarding\" { ...views } >\r\n\t\t\t\t\t\t\t\t<Onboarding id=\"onboarding\" { ...props }/>\r\n\t\t\t\t\t\t\t\t<Onboarding2 id=\"onboarding2\" { ...props }/>\r\n\t\t\t\t\t\t\t\t<Onboarding3 id=\"onboarding3\" { ...props }/>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t</Epic>\r\n\t\t\t\t}\r\n\t\t\t </ConfigProvider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './App';\r\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\r\n// import registerServiceWorker from './sw';\r\n\r\nconst root = document.getElementById('root');\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit', {});\r\n\r\nmVKMiniAppsScrollHelper(root);\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, root);\r\n"],"sourceRoot":""}